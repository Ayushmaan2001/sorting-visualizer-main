System.register("ts-heap",[],function(t,e){"use strict";e&&e.id;t("minNumberCompare",function(t,e){return t-e}),t("MaxNumberComparer",function(t,e){return e-t});var i;return{setters:[],execute:function(){t("Heap",i=class{constructor(t){this.a=[],this.b=new Map,this.c=t}peek(){return this.a[0]}add(t){if(this.b.has(t))throw new Error("Connot add an item that is already in the heap.");this.a.push(t),this.b.set(t,this.a.length-1),this.i(this.a.length-1)}pop(){if(this.isEmpty)return;let t=this.a[0];return this.e(0),t}get size(){return this.a.length}get isEmpty(){return 0===this.a.length}remove(t){let e=this.b.get(t);return void 0!==e&&(this.e(e),!0)}clear(){this.a.length=0,this.b.clear()}contains(t){return this.b.has(t)}[Symbol.iterator](){return this.a[Symbol.iterator]()}d(t,e){let i=this.c(t,e);if("number"!=typeof i)throw new Error(`The typeof compare result cannot be different from number: ${i}`);if(isNaN(i))throw new Error(`Compare result cannot be is NaN.`);return i}e(t){if(1===this.a.length){this.a[0];return void this.clear()}if(t===this.a.length-1)return this.b.delete(this.a[this.a.length-1]),void this.a.splice(this.a.length-1,1);let e=this.a[t];this.b.delete(e),this.a[t]=this.a[this.a.length-1],this.a.splice(this.a.length-1,1),this.b.set(this.a[t],t);let i=this.d(this.a[t],e);i<0?this.i(t):i>0&&this.j(t)}f(t){return 2*t+1}g(t){return Math.floor((t-1)/2)}h(t,e){return e>=this.a.length?t>=this.a.length?void 0:t:t>=this.a.length?e:this.d(this.a[t],this.a[e])<=0?t:e}i(t){if(0===t)return;let e=this.a[t];for(;;){let i=this.g(t),h=this.a[i];if(this.d(h,e)<=0)break;if(this.k(t,i,e,h),0===i)break;t=i}}j(t){let e=this.f(t),i=this.h(e,e+1);for(;void 0!==i;){let h=this.a[t],s=this.a[i];if(this.d(h,s)<0)break;this.k(t,i,h,s),t=i,e=this.f(t),i=this.h(e,e+1)}}k(t,e,i,h){i=i||this.a[t],h=h||this.a[e];let s=i;this.a[t]=h,this.a[e]=s,this.b.set(i,e),this.b.set(h,t)}})}}});